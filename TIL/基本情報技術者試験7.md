# ToDo
ネットワークの動画学習<br>
暗記する範囲と頭を使う範囲がある。<br>
馴染みがないため難しく感じる。腹落ちしなくても出題ポイントが決まっているため過去問演習で乗り切れる<br>
https://www.youtube.com/@kihonzyouhou/playlists

# TIL ネットワーク

## 1.ネットワークの基本と回線速度

### ネットワークの基本とパケット

通信機器とそれを繋ぐ通信回線を使用し、<br>
ネットワークを活用してデータを送りあっている

データをそのまま送ると、送信が遅いので、データを分割する。<br>
分割したデータを「パケット」と呼び、その送り先を「ヘッダ」と呼ぶ。<br>
パケットにすることで、ネットワークを詰まらせずに通信が可能になり、エラー時はそのパケットだけ再送すれば大丈夫になる。

### 伝送時間

伝送時間の計算に必要な要素
- データ容量
- 回線速度 (1秒間あたりに送ることが出来るデータ量)
  - bps(bit per second)
  - ビット/秒
- 伝送効率、回線利用率

### 過去問補足

<font color="magenta">
ビットとバイトには注意！！！
</font>

### LANとWAN

ネットワークの種類
- LAN(Local Area Network)
  - 家庭内や事業所など狭い範囲のネットワーク
- WAN(Wide Area Network)
  - LANよりも広い範囲のネットワーク

LANの種類
- 有線LAN
  - イーサネット : 一般的な有線通信規格
  - CSMA/CD方式 : 有線LANの通信制御方式<br>
  ネットワーク状況を監視し、空いているタイミングで通信する。<br>
  データが衝突(コリジョン)した場合は再度送信する。

## 2.OSI基本参照モデルを理解する

<font color="yellow">
学習内容が難しいのでイメージが理解できればOK
</font>

### プロトコル

「プロトコル」 : データの送受信を行う際のルール

前までは同一会社の製品でなくてはネットワークを構築できなかった。<br>
プロトコルを統一するために生まれたのが「OSI基本参照モデル」

### OSI基本参照モデル

- 第1層 「物理層」
  - ネットワークの物理的な機能を定めた階層
- 第2層 「データリンク層」
  - ノード間の通信に関するルールを定めた階層
- 第3層 「ネットワーク層」
  - 送信元コンピューターから送信先コンピューターへデータを通信するルールを定めた階層
- 第4層 「トランスポート層」
  - データを送る際の信頼性に関するルールを定めた階層
  - 信頼性とスピードのどちらを重視するのか
  - 通信に異常が発生した際の対応
- 第5層 「セッション層」
  - 通信の開始から終了までのルールを定めた階層
- 第6層 「プレゼンテーション層」
  - データの表現形式に関するルールを定めた階層
- 第7層 「アプリケーション層」
  - アプリケーション固有のルールを定めた階層

### OSI基本参照モデルのデータの流れ

送信側は第7層から第1層にかけてデータを処理していく。<br>
その際、各層での処理でデータにヘッダが付与される。<br>
受信側は逆に第1層から第7層にかけてデータを処理していく。<br>
その際、各層での処理でデータのヘッダが外される。

### 各層で使用される機器

- 物理層
  - 「NIC」(Network Interface Card)
    - データを電気信号に変換してケーブルに流す装置
  - 「リピータ」
    - 電気信号を増幅させ、通信距離を延ばす装置
  - 「リピータハブ」
    - リピーターが複数連なったもの
- データリンク層
  - 「ブリッジ」
    - MACアドレスを基にセグメント間を中継
      - 「MACアドレス」 : データリンク層で使用するネットワーク機器の番号
      - 「セグメント」 : 小さなネットワーク
  - 「スイッチングハブ」
    - ブリッジが複数連なったもの(レイヤ2スイッチとも呼ばれる)
- ネットワーク層
  - 「ルーター」
    - IPアドレスを基にネットワーク間を中継
      - 「IPアドレス」 : ネットワーク層で使用するネットワーク機器の番号
      - 「ネットワーク」 : セグメントの集まり
- 第4層以上
  - 「ゲートウェイ」
    - 第4層以上が異なるネットワーク間でプロトコル変換を行う装置

### 過去問演習

<font color="yellow">
エンドシステム : 各コンピューターの末端(送信元と送信先のこと)<br>
最も利用者に近い : 処理は7層から開始されるためアプリケーション層
</font>

## 3.TCP/IPモデルとIPアドレス

<font color="yellow">
学習内容が難しいのでイメージが理解できればOK
</font>

### TCP/IPモデル

OSI基本参照モデルが浸透する前にでた、TCP/IPモデルが一般的に使用されている。

- 第1層「ネットワークインターフェース層」
  - 物理層
  - データリンク層
- 第2層「インターネット層」
  - ネットワーク層
- 第3層「トランスポート層」
  - トランスポート層
- 第4層「アプリケーション層」
  - セッション層
  - プレゼンテーション層
  - アプリケーション層

### 重要なプロトコル

- 「IP」(Internet protocol)
  - 異なるネットワークをつなぐ方法を定義。ネットワークを制御するために機器にIPアドレスを割り当て、そのIPアドレスに対してパケットでデータを送る。
- 「TCP」(Transmission Control Protocol)
  - 通信相手との接続が確認されてから通信を行うルール。<br>
  「信頼性の高いデータ転送」を提供することが可能。
- 「UDP」(User Datagram Protocol)
  - 信頼相手との接続確認をせずにデータを送り付けるルール。<br>信頼性は落ちるが高速であり、ライブ配信など「リアルタイム性が必要な場合」に使用される。

### IPアドレス

「IPアドレス」 : インターネット上の住所のようなもので、2進数32ビットのビット列を8桁ずつ10進数に直して表現する。

例）
```
IPアドレス
2進数32ビット
11000000101010000000000000000001

8桁4ブロックに分ける
1100 0000 + 1010 1000 + 0000 0000 + 0000 0001

10進数に直す
192.168.0.1
```

### IPv4 IPv6

最初に「IPv4」(32ビット)が作られたが、ネットの高速な普及により数が不足したため、「IPv6」（128ビット）が作られた。<br>
しかし、IPv4で事足りているので、IPv6はあまり使われていない。

### グローバルIPアドレスとプライベートIPアドレス

IPアドレスを「グローバルIPアドレス」と「プライベートIPアドレス」に分けることで、IPアドレスの数を節約している。

- グローバルIPアドレス
  - 重複不可
- プライベートIPアドレス
  - LAN内で重複が無ければ良い

### NATとNAPT/IPマスカレード

プライベートIPアドレスから直接グローバルIPアドレスにアクセスすることは出来ない。<br>
そこで、プライベートIPアドレスをグローバルIPアドレスに変換する必要がある。

- NAT(Network Address Translation)
  - プライベートIPアドレスとグローバルIPアドレスを「1対1」で紐づける
- NAPT/IPマスカレード(Network Address Port Translation)
  - 複数のプライベートIPアドレスとグローバルIPアドレスを「複数対1」で紐づける

### DHCP

- 「DHCP」(Dynamic Host Configuration Protocol)
  - プライベートIPアドレスの割り当てなどネットワークの設定を自動化できる仕組み

### ドメインとDNSサーバー

- 「ドメイン」
  - IPアドレスを人間がわかりやすいように変換したものであり、IPアドレスと同じ意味
- 「DNSサーバー」(Domain Name System)
  - ドメインとIPアドレスを紐づけるサーバー

### 過去問演習

<font color="yellow">
UDP : リアルタイム性 TCP : 信頼性
</font>

## 4.IPアドレスとサブネットマスク

<font color="yellow">
2進数の計算が入ってきて難しいが、頻出範囲！！
</font>

### ネットワーク部とホスト部

IPアドレスは「ネットワーク部」と「ホスト部」で構成される

- 「ネットワーク部」
  - どのネットワークを使用しているかを指定する部分
- 「ホスト部」
  - ネットワーク内でどのコンピューターを使用しているか指定する部分

### クラスの種類

クラスによってIPアドレスのネットワーク部/ホスト部が定義される

- 「クラスA」 : 先頭8ビットがネットワーク部、残り24ビットがホスト部(大規模ネットワークで使用 1,677万7,214台)
  - ネットワーク部が「0」で始まる
  - ホスト部が全部1 : 「ブロードキャストアドレス」
  - ホスト部が全部0 : 「ネットワークアドレス」
- 「クラスB」 : 先頭16ビットがネットワーク部、残り16ビットがホスト部(中規模ネットワークで使用 65,534台)
  - ネットワーク部が「10」で始まる
- 「クラスC」 : 先頭24ビットがネットワーク部、残り8ビットがホスト部(小規模ネットワークで使用 254台)
  - ネットワークが「110」で始まる

<font color="cyan">
※ネットワーク部の事をネットワークアドレスと呼ぶこともあるので注意
</font>

### クラスごとのプライベートIPアドレス

| クラス | プライベートIPアドレス範囲 | 覚え方 |
| :-- | :-: | --: |
| クラスA | 10.0.0.0 ~ 10.255.255.255 | 最初 : 10.0<br>最後 : 10.255 |
| クラスB | 172.16.0.0 ~ 172.31.255.255 | いなにいちろく 172.16<br>いなにさんいち 172.31 |
| クラスC | 192.168.0.0 ~ 192.168.255.255 | いちくにいちろっぱ 192.168 |

### サブネットマスク

「サブネットマスク」を用意することでIPアドレスのネットワーク部を自由に設定可能になる。<br>
IPアドレスと同様の32ビット2進数、最初の「1」の部分がネットワーク部、残りの「0」がホスト部<br>
IPアドレスとサブネットマスクの論理積をとることでネットワークアドレスを取得できる。

記載方法
```
1. 後ろにそのまま記載
192.168.0.1 / 255.255.255.192

2. 1の数だけ記載（ネットワーク部の桁
192.168.0.1 / 26
```
### 過去問演習

<font color="yellow">
ブロードキャストアドレスとネットワークアドレスは割り当て禁止アドレス！！<br>
255は2進数に直すと1111 1111
</font>

## 5.誤り制御と重要用語の確認

### アプリケーション層のプロトコル

「ポート番号」 : アプリケーションを識別するための番号

| プロトコル | 役割 | ポート番号 |
| :-- | :-: | --: |
| HTTP | Web情報を通信する際のルール | 「80」 |
| FTP | ファイルを転送する際のルール | 21,22 |
| NTP | 時刻を調整する際のルール | 123 |
| SMTP | メールを送信する際のルール | 「25」 |
| POP3 | メールを受信する際のルール<br>コンピューター内 | 「110」 |
| IMAP | メールを受信する際のルール<br>メールサーバー上 | 143 |

- HTTP(Hyper Text Transfer Protocol)
  - Webサイトを閲覧する際のルール。ボート番号は80
- FTP(File Transfer Protocol)
  - ネットワークを用いてファイルを送る際のルール
- NTP(Network Time Protocol)
  - コンピューター内の時間を同期する際のルール
- SMTP(Simple Mail Transfer Protocol)
  - メール送信する際のルール。ポート番号は25
- POP3(Post Office Protocol Version3)
  - メール受信する際のルール。ポート番号110
  - 「コンピューター内」でメールを確認
- IMAP(Internet Message Access Protocol)
  - メール受信する際のルール
  - 「メールサーバー上」でメールを確認

### メールの追加情報

元々メールは半角英数字しか扱えなかった

- 「MIME」(Multipurpose Internet Mail Extension)
  - 日本語や画像/音声を扱えるよう規格を拡張
  - 「S/MIME」 : 暗号化・署名の仕組みも追加

### 誤り制御

ネットワークのエラーにより誤ったデータに変わる可能性があり、<br>
データの誤りを検出する必要がある。

<b>「パリティチェック」</b>

ビット列にパリティビットを付与することで誤りを検出する方法<br>
複数ビットで誤りがある場合検出できない場合がある。

例）奇数パリティ
```
10100000
10110000

上は2で偶数、下は3で奇数なので、
上に1をつけて、下は0をつける。
```

- 垂直パリティ
  - ブロックで完結するパリティ(横方向)
- 水平パリティ
  - 複数のブロックが必要なパリティ(縦方向)
- 水平垂直パリティ
  - 垂直も水平も行うパリティ

<b>「CRC」

ビット列を生成多項式と呼ばれる特定の式で割り算を行い、その余りをチェック用データとして付加する

### ネットワークに関連する重要な用語

- 「SDN」(Software Defined Networking)
  - ネットワークを「ソフトウェアによって」実現する
  - 「OpenFlow」 : データ転送機能をネットワーク機器が担当、経路制御機能をソフトウェアが担当する

- 「IPsec」
  - ネットワーク層のプロトコル
  - 暗号化の機能
  - 複数のプロトコルで構成

- 「CGI」(Common Gateway Interface)
  - Webサーバーが外部プログラムを実行して、その結果を動的ページとして返す仕組みのこと